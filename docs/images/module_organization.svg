<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <style>
            .title { font: bold 24px sans-serif; }
            .subtitle { font: italic 14px sans-serif; fill: #666; }
            .box { stroke: #666; fill: #fff; stroke-width: 2; }
            .module { fill: #e6f7ff; stroke: #1890ff; }
            .submodule { fill: #fff; stroke: #d9d9d9; }
            .core { fill: #f6ffed; stroke: #52c41a; }
            .frontend { fill: #fff7e6; stroke: #fa8c16; }
            .backend { fill: #f9f0ff; stroke: #722ed1; }
            .integration { fill: #fff1f0; stroke: #ff4d4f; }
            .line { stroke: #666; stroke-width: 1.5; fill: none; }
            .dashed { stroke-dasharray: 5,5; }
            .arrow { marker-end: url(#arrowhead); }
            .module-title { font: bold 16px sans-serif; }
            .submodule-title { font: bold 14px sans-serif; }
            .desc { font: 12px sans-serif; fill: #555; }
        </style>
        <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
            <polygon points="0 0, 10 3.5, 0 7" fill="#666" />
        </marker>
    </defs>
    
    <!-- Title -->
    <text x="400" y="30" class="title" text-anchor="middle">Open WebUI 模块组织结构</text>
    <text x="400" y="55" class="subtitle" text-anchor="middle">基于组件化的应用架构设计</text>
    
    <!-- Core Infrastructure -->
    <rect x="250" y="80" width="300" height="100" rx="10" class="box core" />
    <text x="400" y="110" class="module-title" text-anchor="middle">核心基础设施</text>
    <line x1="250" y1="120" x2="550" y2="120" class="line" />
    <text x="400" y="140" class="desc" text-anchor="middle">配置管理 · 环境变量 · 启动系统</text>
    <text x="400" y="160" class="desc" text-anchor="middle">错误处理 · 日志记录 · 系统监控</text>
    
    <!-- Frontend Modules -->
    <rect x="50" y="220" width="200" height="350" rx="10" class="box frontend" />
    <text x="150" y="250" class="module-title" text-anchor="middle">前端模块</text>
    <line x1="50" y1="260" x2="250" y2="260" class="line" />
    
    <rect x="70" y="280" width="160" height="50" rx="5" class="box submodule" />
    <text x="150" y="305" class="submodule-title" text-anchor="middle">界面组件</text>
    <text x="150" y="320" class="desc" text-anchor="middle">聊天、设置、模型选择</text>
    
    <rect x="70" y="340" width="160" height="50" rx="5" class="box submodule" />
    <text x="150" y="365" class="submodule-title" text-anchor="middle">状态管理</text>
    <text x="150" y="380" class="desc" text-anchor="middle">会话、用户偏好、设置</text>
    
    <rect x="70" y="400" width="160" height="50" rx="5" class="box submodule" />
    <text x="150" y="425" class="submodule-title" text-anchor="middle">路由</text>
    <text x="150" y="440" class="desc" text-anchor="middle">页面导航、权限控制</text>
    
    <rect x="70" y="460" width="160" height="50" rx="5" class="box submodule" />
    <text x="150" y="485" class="submodule-title" text-anchor="middle">API客户端</text>
    <text x="150" y="500" class="desc" text-anchor="middle">后端通信、模型交互</text>
    
    <!-- Backend Modules -->
    <rect x="300" y="220" width="200" height="350" rx="10" class="box backend" />
    <text x="400" y="250" class="module-title" text-anchor="middle">后端模块</text>
    <line x1="300" y1="260" x2="500" y2="260" class="line" />
    
    <rect x="320" y="280" width="160" height="50" rx="5" class="box submodule" />
    <text x="400" y="305" class="submodule-title" text-anchor="middle">API路由</text>
    <text x="400" y="320" class="desc" text-anchor="middle">接口定义、参数验证</text>
    
    <rect x="320" y="340" width="160" height="50" rx="5" class="box submodule" />
    <text x="400" y="365" class="submodule-title" text-anchor="middle">服务层</text>
    <text x="400" y="380" class="desc" text-anchor="middle">业务逻辑、数据处理</text>
    
    <rect x="320" y="400" width="160" height="50" rx="5" class="box submodule" />
    <text x="400" y="425" class="submodule-title" text-anchor="middle">数据模型</text>
    <text x="400" y="440" class="desc" text-anchor="middle">ORM映射、数据架构</text>
    
    <rect x="320" y="460" width="160" height="50" rx="5" class="box submodule" />
    <text x="400" y="485" class="submodule-title" text-anchor="middle">插件系统</text>
    <text x="400" y="500" class="desc" text-anchor="middle">扩展性功能、工具集成</text>
    
    <!-- Integrations -->
    <rect x="550" y="220" width="200" height="350" rx="10" class="box integration" />
    <text x="650" y="250" class="module-title" text-anchor="middle">集成模块</text>
    <line x1="550" y1="260" x2="750" y2="260" class="line" />
    
    <rect x="570" y="280" width="160" height="50" rx="5" class="box submodule" />
    <text x="650" y="305" class="submodule-title" text-anchor="middle">AI模型</text>
    <text x="650" y="320" class="desc" text-anchor="middle">Ollama, OpenAI, Claude</text>
    
    <rect x="570" y="340" width="160" height="50" rx="5" class="box submodule" />
    <text x="650" y="365" class="submodule-title" text-anchor="middle">文件系统</text>
    <text x="650" y="380" class="desc" text-anchor="middle">存储、检索、文档处理</text>
    
    <rect x="570" y="400" width="160" height="50" rx="5" class="box submodule" />
    <text x="650" y="425" class="submodule-title" text-anchor="middle">认证</text>
    <text x="650" y="440" class="desc" text-anchor="middle">用户管理、权限</text>
    
    <rect x="570" y="460" width="160" height="50" rx="5" class="box submodule" />
    <text x="650" y="485" class="submodule-title" text-anchor="middle">RAG系统</text>
    <text x="650" y="500" class="desc" text-anchor="middle">向量数据库、知识库</text>
    
    <!-- Connecting Lines -->
    <line x1="400" y1="180" x2="400" y2="220" class="line arrow" />
    
    <line x1="150" y1="200" x2="150" y2="220" class="line arrow" />
    <line x1="400" y1="200" x2="400" y2="220" class="line arrow" />
    <line x1="650" y1="200" x2="650" y2="220" class="line arrow" />
    
    <line x1="400" y1="180" x2="150" y2="200" class="line" />
    <line x1="400" y1="180" x2="650" y2="200" class="line" />
    
    <line x1="250" y1="370" x2="300" y2="370" class="line arrow" />
    <line x1="500" y1="370" x2="550" y2="370" class="line arrow" />
    
    <line x1="250" y1="485" x2="300" y2="485" class="line dashed arrow" />
    <line x1="500" y1="310" x2="550" y2="310" class="line dashed arrow" />
    
    <!-- Legend -->
    <rect x="100" y="580" width="15" height="15" class="box core" />
    <text x="125" y="592" class="desc">核心基础设施</text>
    
    <rect x="220" y="580" width="15" height="15" class="box frontend" />
    <text x="245" y="592" class="desc">前端模块</text>
    
    <rect x="340" y="580" width="15" height="15" class="box backend" />
    <text x="365" y="592" class="desc">后端模块</text>
    
    <rect x="460" y="580" width="15" height="15" class="box integration" />
    <text x="485" y="592" class="desc">集成模块</text>
    
    <line x1="580" y1="590" x2="610" y2="590" class="line arrow" />
    <text x="635" y="592" class="desc">直接依赖</text>
    
    <line x1="680" y1="590" x2="710" y2="590" class="line dashed arrow" />
    <text x="735" y="592" class="desc">间接依赖</text>
</svg> 